<Window
	x:Class="<#cs Write(Project.Namespace)#>.Wpf.MainWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Views="clr-namespace:<#cs Write(Project.Namespace)#>.Wpf.View"
	xmlns:contracts="clr-namespace:<#cs Write(Project.Namespace)#>.Contracts;assembly=<#cs Write(Project.Namespace)#>.Contracts"
	xmlns:cvms="clr-namespace:<#cs Write(Project.Namespace)#>.Client.MVVM.ViewModel;assembly=<#cs Write(Project.Namespace)#>.Client.MVVM"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
	xmlns:local="clr-namespace:<#cs Write(Project.Namespace)#>.Wpf"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:vms="clr-namespace:<#cs Write(Project.Namespace)#>.ClientBase.ViewModel;assembly=<#cs Write(Project.Namespace)#>.ClientBase"
	Title="<#cs Write(Project.Namespace)#>"
	Width="800"
	Height="450"
	DataContext="{Binding Source={StaticResource Locator}, Path=Main}"
	WindowState="Maximized"
	mc:Ignorable="d">

	<Window.Resources>
		<DataTemplate DataType="{x:Type vms:MenuViewModel}">
			<Views:MenuView />
		</DataTemplate>
		<DataTemplate DataType="{x:Type vms:LoginViewModel}">
			<Views:LoginView />
		</DataTemplate>
		<DataTemplate DataType="{x:Type cvms:YesNoPageViewModel}">
			<Views:YesNoPageView />
		</DataTemplate>
		<DataTemplate DataType="{x:Type vms:ProfileViewModel}">
			<Views:ProfileView />
		</DataTemplate>
<#cs
foreach(var definition in Definitions.Where(d => !(d.IsArray
|| d.IsEnumeration
|| d.IsOwnedType
|| d.Name.Equals("user", StringComparison.OrdinalIgnoreCase))))
{
	WriteLine($"		<DataTemplate DataType=\"{{x:Type vms:All{definition.Name}sViewModel}}\">");
	WriteLine($"			<Views:All{definition.Name}sView />");
	WriteLine("		</DataTemplate>");
}

Result =  Result.TrimEnd();
#>
<#cs
foreach(var definition in Definitions.Where(d => !d.IsEnumeration && !d.Name.Equals("user", StringComparison.OrdinalIgnoreCase)))
{
	var source = "vm";
	var suffix = "ViewModel";
	if (definition.IsOwnedType)
	{
		source = "contract";
		suffix = "";
	}
	
	WriteLine($"		<DataTemplate DataType=\"{{x:Type {source}s:{definition.Name}{suffix}}}\">");
	WriteLine($"			<Views:{definition.Name}View />");
	WriteLine("		</DataTemplate>");
}

Result =  Result.TrimEnd();
#>
		<DataTemplate DataType="{x:Type cvms:AlertViewModel}">
			<Views:AlertView />
		</DataTemplate>
	</Window.Resources>

	<DockPanel Focusable="False">
		<DockPanel.LayoutTransform>
			<ScaleTransform CenterX="0" CenterY="0" ScaleX="1.5" ScaleY="1.5" />
		</DockPanel.LayoutTransform>

		<WrapPanel DockPanel.Dock="Left">
			<Button
				Name="NavigateBackButton"
				MaxWidth="{Binding ElementName=NavigateBackButton, Path=ActualHeight}"
				Margin="1"
				Padding="5"
				Command="{Binding NavigateBackCommand}"
				ToolTip="Navigate back">
				<Button.Content>
					<Path
						Width="18"
						Height="18"
						Data="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"
						Fill="{StaticResource ForegroundColor}"
						Stretch="Uniform" />
				</Button.Content>
			</Button>
		</WrapPanel>

		<ContentControl Content="{Binding ViewModel}" Focusable="False" />
	</DockPanel>
</Window><#cs SetOutputPathAndSkipOtherDefinitions()#>